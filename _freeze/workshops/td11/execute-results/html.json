{
  "hash": "405382afa30909caddc064e6e29acbf3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"TD 11: Normalisation et dépendances\"\nsubtitle: \"Normalisation et dépendances\"\ncategories: [Normalisation, Perte de DF, \"Perte d'Information\", FNBC, FN3]\ndate: \"2024-12-06\"\n\nformat:\n  pdf:\n    code-annotations: below\n    keep-tex: false\n    code-fold: false\n    toc: false\n    output-file: td11.pdf\n    include-in-header:\n      - text: \"\\\\lhead{{\\\\sf  Base de données \\\\\\\\ TD 11}}\"\n  html:\n    embed-resources: true\n    code-fold: true\n    output-file: td11.html\nparams:\n    year: 2024 \n    curriculum: \"L3 MIASHS/Ingémath\"\n    university: \"Université Paris Cité\"\n    homepage: \"https://s-v-b.github.io/MA15Y030/\"\n    moodle: \"https://moodle.u-paris.fr/course/view.php?id=2313\"\n---\n\n\n\n\n\n\n::: {.content-visible when-profile='solution'} \n\n::: {.callout-warning}\n\n### Avec solutions\n\n::: \n\n:::\n\n\n::: {layout=\"[80,20]\"}\n\n::: {#first-column}\n\n\n- **L3 MIASHS/Ingémath**\n- **[Université Paris Cité](https://www.u-paris.fr)**\n- Année 2024-2025\n- [Course Homepage](https://s-v-b.github.io/MA15Y030/)  \n- [Moodle](https://moodle.u-paris.fr/course/view.php?id=2313)\n\n::: \n\n::: {#second-column}\n![](../images/UniversiteParis_monogramme_couleur_RVB.png){align=\"right\" style=\"size:50px;\" width=75}\n:::\n\n:::\n\n\n### Exercice \n\nSoit le schéma\n$$\\mathcal{A}=\\left\\{\\texttt{A,B,C,D,E,F,G,H}\\right\\}$$\net l'ensemble de DF\n```\nBE → AC  \nB → H  \nF → CD  \nD → G\n```\n\n\n- Appliquer l'algorithme de décomposition vu en cours pour obtenir une décomposition de $\\mathcal{A}$\nqui respecte la FNBC et est sans perte d'information. Déterminer quelles DF sont préservées.\n- Peut-on, en ajoutant un sous-schéma à la décomposition, obtenir une décomposition FNBC sans perte d'information et sans perte de DF ?\n\n\n\n::: {.content-visible when-profile=\"solution\"}\n\n::::: {.callout-tip title=\"Solution\"}\n\nRappelons l'algorithme pour décomposer un schéma $\\mathcal{A}$~:\n\n- On considère la décomposition initiale $\\rho=\\{\\mathcal{A}\\}$.\n- Tant qu'il existe un sous-schéma $\\mathcal{B}\\in\\rho$ et $X\\subset \\mathcal{B}$ tels que\n$X^+\\cap\\mathcal{B}\\not=X$ et $X^+\\cap\\mathcal{B}\\not=\\mathcal{B}$ (ce qui signifie que la DF locale $X\\to X^+\\cap\\mathcal{B}$ est une violation de FNBC pour $\\mathcal{B}$), on remplace $\\mathcal{B}$ par les deux sous-schémas\n$$\\mathcal{B}_1=X^+\\cap\\mathcal{B} \\text{ et } \\mathcal{B}_2=(\\mathcal{B}\\setminus X^+)\\cup X$$\nDe plus il n'y a pas besoin de considérer les parties $X\\subset\\mathcal{B}$ telles que $card(X)=card(\\mathcal{B})-1$\npuisque dans ce cas on $X^+\\cap \\mathcal{B}=X$ ou $X^+\\cap\\mathcal{B}=\\mathcal{B}$.\n\nIl est garanti que la décomposition finale est en FNBC et SPI. Par contre toutes les DF ne sont pas préservées en général. De plus on obtient, en général, des décompositions différentes si on change les DF (violant FNBC) utilisées.\n}\n- $BE^+=BEACH$ donc on remplace $\\mathcal{A}$ par\n$$ \\mathcal{A}_1=BEACH \\quad \\mathcal{A}_2=BDEFG$$\n$B^+=BH$ donc on remplace $\\mathcal{A}_1$ par\n$$\\mathcal{A}_{11}=BH \\quad \\mathcal{A}_{12}=BEAC$$\n$\\mathcal{A}_{11}$ est en FNBC car de cardinal 2. $\\mathcal{A}_{12}$ est en FNBC car\n$$B^+\\cap\\mathcal{A}_{12}=B, E^+\\cap\\mathcal{A}_{12}=E, A^+\\cap\\mathcal{A}_{12}=A, C^+\\cap\\mathcal{A}_{12}=C $$\n$$BE^+\\cap\\mathcal{A}_{12}=BEAC, BA^+\\cap\\mathcal{A}_{12}=BA, BC^+\\cap\\mathcal{A}_{12}=BC, EA^+\\cap\\mathcal{A}_{12}=EA, EC^+\\cap\\mathcal{A}_{12}=EC$$\n$$ AC^+\\cap\\mathcal{A}_{12}=AC$$\n$D^+=DG$ donc on remplace $\\mathcal{A}_2$ par\n$$\\mathcal{A}_{21}=DG \\quad \\mathcal{A}_{22}=BDEF$$\n$\\mathcal{A}_{21}$ est en FNBC car de cardinal 2.\n$F^+=CD$ donc on remplace $\\mathcal{A}_{22}$ par\n$$\\mathcal{A}_{221}=FD \\quad \\mathcal{A}_{222}=BEF$$\nqui sont tous deux en FNBC\n\nDécomposition obtenue~:\n```\nBH  BEAC  DG  FD  BEF\n```\n\nLa seule DF qui n'est pas préservée est $F\\to C$.\nToutes les variantes (en changeant les DF utilisées) que j'ai testées,\ndonne une décomposition qui ne préserve pas toutes les DF. Bien sûr ce n'est pas une preuve que l'algorithme ne peut pas donner une décomposition sans perte de DF.\n- En ajoutant $FC$ à la décomposition précédente, on obtient\n```\nBH   BEAC   DG   FD   BEF   FC\n```\nqui est en FNBC et préserve les DF. De plus elle est SPI puisque la décomposition initiale est SPI.\n($R \\bowtie \\pi_{FC}(R)=R$ pour toute relation $R$)\n\n:::::\n\n:::\n\n\n### Exercice\nReprendre les questions de l'exercice précédent pour le schéma\n$$\\mathcal{A}=\\left\\{\\texttt{A,B,C,D,E,F,G,H}\\right\\}$$\net l'ensemble de DF\n```\nBE → AC  \nB → H\nF → CD\nD → G\nA→ E\n```\n\n\n::: {.content-visible when-profile=\"solution\"} \n\n::::: {.callout-tip title=\"Solution\"}\n\n- De manière similaire à l'exercice précédent on arrive à\n```\nBH   BEAC   DG   FD   BEF\n```\nmais, ici, `BEAC` n'est pas en FNBC (les autres le sont).\n`A^+=AE` donc on remplace `BEAC` par `AE` et `ABC`.\nUne décomposition FNBC est donc\n`BH   AE   ABC   DG   FD   BEF`\nLes DF `BE → AC` et `F → C` ne sont pas préservées. Les autres sont préservées.\n\n- Il n'existe de décomposition FNBC qui préserve `BE → A`. En effet, si `BE → A`\nest préservée, il existe une DF locale à un sous-schéma $\\mathcal{B}$ de la forme `X → A`.\nCela implique que `BE ⊂ X` et donc `BEA ⊂ B`. Par suite $\\mathcal{B}$ n'est pas en FNBC à cause de $A^+=AE$.\n\n:::::\n\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}